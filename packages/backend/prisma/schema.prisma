generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Board {
  id    Int    @id
  tag   String
  name  String
  posts Post[]
}

model Post {
  id               Int     @id
  poster           String
  posterVerified   Boolean
  subject          String
  message          String
  messageTruncated String
  timestamp        Int
  updatedAt        Int
  board            Board   @relation(fields: [boardId], references: [id])
  boardId          Int
  media            Media[]
  parentId         Int?
  parent           Post?   @relation("Thread", fields: [parentId], references: [id])
  replies          Post[]  @relation("Thread")
}

model Media {
  id         Int     @id @default(autoincrement())
  urlOrigin  String?
  urlPreview String?
  mediaType  String
  post       Post?   @relation(fields: [postId], references: [id])
  postId     Int?
}

model Settings {
  id    Int    @id @default(autoincrement())
  name  String
  value String
  type  String
}
